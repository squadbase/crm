# 顧客管理ページ要件定義

## ページ概要
顧客情報の登録・閲覧・検索・更新・削除を行う顧客管理用ページ

## 主要機能

### 1. 顧客一覧表示
- 全顧客の一覧をテーブル形式で表示
- ページネーション機能
- 顧客名、作成日時、更新日時を表示
- 紐づいていている注文

### 2. 顧客検索
- 顧客名による部分一致検索
- リアルタイム検索（入力時に結果が更新）

### 3. 顧客登録
- 新規顧客の登録フォーム
- 顧客企業名の入力（必須）
- バリデーション機能

### 4. 顧客情報更新
- 既存顧客情報の編集
- インライン編集またはモーダル形式
- 更新時のバリデーション

### 5. 顧客削除
- 顧客の削除機能
- 削除前の確認ダイアログ
- 論理削除（関連する注文データも考慮）

## UI/UX仕様

### レイアウト
- ヘッダー：ページタイトル、検索フォーム、新規登録ボタン
- メイン：顧客一覧テーブル
- フッター：ページネーション

### コンポーネント
- DataTable：顧客一覧表示
- SearchInput：検索フォーム
- CreateCustomerDialog：新規登録モーダル
- EditCustomerDialog：編集モーダル
- DeleteConfirmDialog：削除確認ダイアログ

### 操作フロー
1. ページロード時：顧客一覧を表示
2. 検索：入力に応じて結果をフィルタリング
3. 新規登録：モーダルを開き、フォーム入力後に登録
4. 編集：テーブル行をクリックして編集モーダルを開く
5. 削除：削除ボタンクリック後、確認ダイアログで実行

## データベース連携

### 使用テーブル
- customers テーブル（主要）
- orders テーブル（削除時の関連チェック）

### 主要操作
- SELECT：顧客一覧取得、検索
- INSERT：新規顧客登録
- UPDATE：顧客情報更新
- DELETE：顧客削除（論理削除）

## 技術仕様

### フロントエンド
- Next.js v15 App Router
- TailwindCSS v4
- shadcn/ui コンポーネント
- React Hook Form（フォームバリデーション）

### バックエンド
- Next.js API Routes
- Drizzle ORM\
- PostgreSQL (Neon)

### バリデーション
- 顧客名：必須、255文字以内
- 重複チェック：同名顧客の確認

## エラーハンドリング
- ネットワークエラー時のリトライ機能
- バリデーションエラーの表示
- 削除時の関連データ確認